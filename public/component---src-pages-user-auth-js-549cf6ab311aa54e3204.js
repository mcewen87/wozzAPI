(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{250:function(e,t,n){"use strict";n.r(t);n(31),n(5);var o=n(59),r=n.n(o),a=(n(97),n(0)),c=n.n(a),s=n(58),i=n(82),u=n(284),p=n.n(u),l=n(251),h=n.n(l);function d(e,t,n,o,r,a,c){try{var s=e[a](c),i=s.value}catch(u){return void n(u)}s.done?t(i):Promise.resolve(i).then(o,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function c(e){d(a,o,r,c,s,"next",e)}function s(e){d(a,o,r,c,s,"throw",e)}c(void 0)}))}}var m=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).state={email:"",password:"",isError:!1},t.handleEmail=function(e){t.setState({email:e.target.value})},t.handlePassword=function(e){t.setState({password:e.target.value})},t.userSignIn=function(){var e=f(r.a.mark((function e(n,o){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://stormy-basin-80765.herokuapp.com/getToken",{mode:"cors",cache:"no-cache",credentials:"include",headers:{"content-type":"application/json"},method:"GET"});case 2:return a=p.a.get("XSRF-TOKEN"),e.next=5,fetch("https://stormy-basin-80765.herokuapp.com/signIn",{body:JSON.stringify({email:n,password:o}),mode:"cors",cache:"no-cache",credentials:"include",headers:{"content-type":"application/json","csrf-token":a},method:"POST"}).catch((function(e){return t.setState({isError:!0})}));case 5:(c=e.sent).ok?(console.log(c.ok),c.json().then((function(e){console.log(e),t.props.changeAuth(e.authStatus),t.setState({email:"",password:"",isError:!1})}))):t.setState({isError:!0});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.userSignUp=function(){var e=f(r.a.mark((function e(n,o){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://stormy-basin-80765.herokuapp.com/getToken",{mode:"cors",cache:"no-cache",credentials:"include",headers:{"content-type":"application/json"},method:"GET"});case 2:return a=p.a.get("XSRF-TOKEN"),e.next=5,fetch("https://stormy-basin-80765.herokuapp.com/signUp",{body:JSON.stringify({email:n,password:o}),mode:"cors",cache:"no-cache",credentials:"include",headers:{"content-type":"application/json","csrf-token":a},method:"POST"}).catch((function(e){return t.setState({isError:!0})}));case 5:(c=e.sent).ok?(console.log(c.ok),c.json().then((function(e){console.log(e),t.props.changeAuth(e.authStatus),t.setState({email:"",password:"",isError:!1})}))):t.setState({isError:!0});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.render=function(){var e=this;return c.a.createElement("div",{className:h.a.authBox},c.a.createElement("div",{className:h.a.innerBox},this.state.isError&&c.a.createElement("p",{className:h.a.errorMessage},"Oops, something went wrong."),c.a.createElement("input",{className:"",placeholder:"Email",type:"text",value:this.state.email,onChange:this.handleEmail}),c.a.createElement("input",{className:"",placeholder:"Password",type:"password",value:this.state.password,onChange:this.handlePassword}),c.a.createElement("div",{className:h.a.buttons},c.a.createElement("button",{onClick:function(){e.userSignIn(e.state.email,e.state.password)}},"Sign In"),c.a.createElement("button",{onClick:function(){e.userSignUp(e.state.email,e.state.password)}},"Sing Up"),c.a.createElement("button",{onClick:function(){alert("Click Em")}},"Sing Out"),c.a.createElement("button",{onClick:function(){alert("auth")}},"Check Auth"))))},o}(a.Component);t.default=Object(s.b)((function(e){return{isAuthed:e.authStatus}}),{changeAuth:i.a})(m)},284:function(e,t,n){var o,r;n(32),n(22),function(a){if(void 0===(r="function"==typeof(o=a)?o.call(t,n,t,e):o)||(e.exports=r),!0,e.exports=a(),!!0){var c=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=c,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(o){function r(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},r.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(u){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var i in a)a[i]&&(s+="; "+i,!0!==a[i]&&(s+="="+a[i].split(";")[0]));return document.cookie=t+"="+n+s}}function c(e,n){if("undefined"!=typeof document){for(var r={},a=document.cookie?document.cookie.split("; "):[],c=0;c<a.length;c++){var s=a[c].split("="),i=s.slice(1).join("=");n||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var u=t(s[0]);if(i=(o.read||o)(i,u)||t(i),n)try{i=JSON.parse(i)}catch(p){}if(r[u]=i,e===u)break}catch(p){}}return e?r[e]:r}}return r.set=a,r.get=function(e){return c(e,!1)},r.getJSON=function(e){return c(e,!0)},r.remove=function(t,n){a(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))}}]);
//# sourceMappingURL=component---src-pages-user-auth-js-549cf6ab311aa54e3204.js.map